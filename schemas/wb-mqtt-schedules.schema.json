{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"type": "object", 
	"title": "Настройки расписаний",
	"options": {
		"disable_edit_json": true,
		"disable_collapse": true,
		"disable_properties": true
	},
	"configFile": {
		"path": "mnt/data/etc/wb-mqtt-shedules.conf",
		"service": "wb-rules"
	},

  "properties": {
    "schedule": {
        "type": "array",
        "title": " ",
        "items": {
            "type": "object",
            "headerTemplate": "{{self.name}}",
            "title": "Group",

            "options": {
                "disable_properties": true,
                "disable_edit_json": true,
                "compact": true,
                "disable_collapse": true
            },
            "_format": "grid",	
		  	"properties": {
			  "name": {
				"type": "string",
				"options": {"hidden": true}
			  },
			  "type": {
				"type": "string",
				"options": {"hidden": true}
			  },
			  "alias": {
				"type": "string",
				"options": {"hidden": true}
			  },
		  	  "light": {
			      "type": "array",
			      "_format": "table",
			      "title": "ОСВЕЩЕНИЕ",
				  "items": {
					  "$ref": "#/definitions/light"
				  },
				"options": {
					"disable_array_reorder": false,
					"disable_array_delete_last_row": true,
					"disable_array_delete_all_rows": true,
					"compact": true,
					"grid_columns": 12
				}
			 },
		  	  "curtain": {
			      "type": "array",
			      "_format": "table",
			      "title": "ШТОРЫ",
				  "items": {
					  "$ref": "#/definitions/curtain"
				  },
				  "options": {
					"disable_array_reorder": false,
					"disable_array_delete_last_row": true,
					"disable_array_delete_all_rows": true,
					"compact": true,
					"grid_columns": 12
			 	  }
			},
		  	  "floor": {
			      "type": "array",
			      "_format": "table",
			      "title": "ТЕПЛЫЙ ПОЛ",
				  "items": {
					  "$ref": "#/definitions/floor"
				  },
				  "options": {
					"disable_array_reorder": false,
					"disable_array_delete_last_row": true,
					"disable_array_delete_all_rows": true,
					"compact": true,
					"grid_columns": 12
				  }
			   },
		  	  "radiator": {
			      "type": "array",
			      "_format": "table",
			      "title": "РАДИАТОР",
				  "items": {
					  "$ref": "#/definitions/radiator"
				  },
				  "options": {
					"disable_array_reorder": false,
					"disable_array_delete_last_row": true,
					"disable_array_delete_all_rows": true,
					"compact": true,
					"grid_columns": 12
				  }
			   }   
		  }
    	},
        "options": {
            "disable_array_reorder": true,
            "disable_array_delete_last_row": true,
            "disable_array_delete_all_rows": true,
            "disable_collapse": true,
		  	"disable_array_add" : true,
		  	"disable_array_delete": true
        },
        "_format": "tabs"
      }
    },
		
	"definitions": {
		"light": {
			"type": "object",
			"headerTemplate": "День {{self.weekday}}: \"{{self.hour}}:{{self.minute}}\" - {{self.setpoint}}",
			"_format": "grid",
			"options": {
				"disable_edit_json": true,
				"disable_array_add": false,
				"disable_properties": true,
				"collapsed": true
			},
			"properties": {
		        "weekday": {
		          	"type": "string",
					"title": "День недели",
					"propertyOrder": 1,
					"enum": ["==Ежедневно==","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье","--Будни","--Выходные"]
		        },
		        "hour": {
		          "type": "integer",
					"propertyOrder": 2,
					"title": "Час",
					"enum": [0, 1, 2, 3, 4, 5, 6 ,7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
		        },
		        "minute": {
		          "type": "integer",
				  "title": "Минута",
		          "default": 0,
				  "minimum": 0,
				  "maximum": 59,
				  "propertyOrder": 3
		        },
		        "setpoint": {
                    "type": "string",
                    "enum": [
                        "День",
                        "Вечер",
                        "Ночь"
                    ],
	                "default": "День",
					"title": "Режим",
					"propertyOrder": 4
		        }
		      },
		      "required": [
		        "weekday",
		        "hour",
		        "setpoint",
		        "minute"
		      ]
		},
		"floor": {
			"type": "object",
			"headerTemplate": "День {{self.weekday}}: \"{{self.hour}}:{{self.minute}}\" - {{self.setpoint}}",
			"_format": "grid",
			"options": {
				"disable_edit_json": true,
				"disable_array_add": false,
				"disable_properties": true,
				"collapsed": true
			},
			"properties": {
		        "weekday": {
		          	"type": "string",
					"title": "День недели",
					"propertyOrder": 1,
					"enum": ["==Ежедневно==","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье","--Будни","--Выходные"]
		        },
		        "hour": {
		          "type": "integer",
					"propertyOrder": 2,
					"title": "Час",
					"enum": [0, 1, 2, 3, 4, 5, 6 ,7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
		        },
		        "minute": {
		          "type": "integer",
				  "title": "Минута",
		          "default": 0,
				  "minimum": 0,
				  "maximum": 59,
				  "propertyOrder": 3
		        },
		        "setpoint": {
                    "type": "integer",
					"title": "Уставка T, °C",
	                "default": 21,
					"minimum": 0,
					"maximum": 35,
					"propertyOrder": 4
		        }
		      },
		      "required": [
		        "weekday",
		        "hour",
		        "setpoint",
		        "minute"
		      ]
		},
		"radiator": {
			"type": "object",
			"headerTemplate": "День {{self.weekday}}: \"{{self.hour}}:{{self.minute}}\" - {{self.setpoint}}",
			"_format": "grid",
			"options": {
				"disable_edit_json": true,
				"disable_array_add": false,
				"disable_properties": true,
				"collapsed": true
			},
			"properties": {
		        "weekday": {
		          	"type": "string",
					"title": "День недели",
					"propertyOrder": 1,
					"enum": ["==Ежедневно==","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье","--Будни","--Выходные"]
		        },
		        "hour": {
		          "type": "integer",
					"propertyOrder": 2,
					"title": "Час",
					"enum": [0, 1, 2, 3, 4, 5, 6 ,7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
		        },
		        "minute": {
		          "type": "integer",
				  "title": "Минута",
		          "default": 0,
				  "minimum": 0,
				  "maximum": 59,
				  "propertyOrder": 3
		        },
		        "setpoint": {
                    "type": "integer",
					"title": "Уставка T, °C",
	                "default": 21,
					"minimum": 0,
					"maximum": 35,
					"propertyOrder": 4
		        }
		      },
		      "required": [
		        "weekday",
		        "hour",
		        "setpoint",
		        "minute"
		      ]
		},
		"curtain": {
			"type": "object",
			"headerTemplate": "День {{self.weekday}}: \"{{self.hour}}:{{self.minute}}\" - {{self.setpoint}}",
			"_format": "grid",
			"options": {
				"disable_edit_json": true,
				"disable_array_add": false,
				"disable_properties": true,
				"collapsed": true
			},
			"properties": {
		        "weekday": {
		          	"type": "string",
					"title": "День недели",
					"propertyOrder": 1,
					"enum": ["==Ежедневно==","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье","--Будни","--Выходные"]
		        },
		        "hour": {
		          "type": "integer",
					"propertyOrder": 2,
					"title": "Час",
					"enum": [0, 1, 2, 3, 4, 5, 6 ,7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
		        },
		        "minute": {
		          "type": "integer",
				  "title": "Минута",
		          "default": 0,
				  "minimum": 0,
				  "maximum": 59,
				  "propertyOrder": 3
		        },
		        "setpoint": {
                    "type": "integer",
                    "enum": [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100],
	                "default": 50,
					"title": "Раскрытие, %",
					"propertyOrder": 4
		        }
		      },
		      "required": [
		        "weekday",
		        "hour",
		        "setpoint",
		        "minute"
		      ]
		}	
	}
}
